{% extends "core/base.html" %}

{% block css %}
<style>
ul {
  list-style: none;
}
</style>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/css/bootstrap-datepicker.css">
{% endblock %}

{% block content %}

<div class="container">

  <h1 class="mt-3 mb-3">Add Checkin</h1>

  <div class="row">
    {% if form.errors %}
        {% for field in form %}
            {% for error in field.errors %}
                <div class="alert alert-danger">
                    <strong>{{ error | escape }}</strong>
                </div>
            {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
            <div class="alert alert-danger">
                <strong>{{ error | escape }}</strong>
            </div>
        {% endfor %}
    {% endif %}
  </div>


  <div class="row">
    <div class="col col-md-6 offset-md-3">
      <form method="post">
        {% csrf_token %}
        <div class="form-group">
          <label for="{{ form.teacher.html_name }}">On behalf of Teacher:</label>
          {{ form.teacher }}
        </div>

        <div class="form-group">
          <label for="{{ form.date.html_name }}">Date:</label>
          <!-- use type text instead of date so that we disable the time picker  -->
          <input id="{{ form.date.id_for_label }}" name="date" placeholder="{{ form.date.html_name }}" type="text" class="form-control" required>
        </div>

        <div class="form-group">
          <label for="{{ form.student.html_name }}">Student:</label>
          {{ form.student }}
        </div>

        <div class="form-group">
          <label for="{{ form.status.html_name }}">Status:</label>
          {{ form.status }}
        </div>

        <div class="form-group">
          <label for="{{ form.mode.html_name }}">Format:</label>
          {{ form.mode }}
        </div>

        <div class="form-group">
          <label for="{{ form.success_score.html_name }}">
            {% if request.user.district.custom_text_succces_score %}
              {{ request.user.district.custom_text_succces_score }}
            {% else %}
              How successful was the recent check-in you had with your mentee?
            {% endif %}
          </label>
          {{ form.success_score }}
        </div>

        <div class="form-group">
          <label for="{{ form.info_learned.html_name }}">
            {% if request.user.district.custom_text_info_learned %}
              {{ request.user.district.custom_text_info_learned }}
            {% else %}
              What is the most important thing you learned about your mentee at your most recent mentoring check-in?
            {% endif %}
          </label>
          {{ form.info_learned }}
        </div>

        <div class="form-group">
          <label for="{{ form.info_better.html_name }}">
            {% if request.user.district.custom_text_info_better %}
              {{ request.user.district.custom_text_info_better }}
            {% else %}
              What could have made this mentor check-in better?
            {% endif %}
          </label>
          {{ form.info_better }}
        </div>

        <div class="form-group">
          <label for="{{ form.notify_school_admin.html_name }}">Notify School Admin?</label>
          {{ form.notify_school_admin }}
        </div>

        <input type="submit" class="btn btn-primary" value="Submit" />
      </form>
    </div>
  </div>
</div>

{% endblock %}

{% block js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/js/bootstrap-datepicker.js"></script>
<script>
$('input[name="date"]').datepicker({ format: 'yyyy-mm-dd' });
</script>
{% endblock %}
